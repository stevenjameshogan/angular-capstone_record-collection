<section id="addRecord">
    <h4>Add a Record</h4>
    <form ng-submit="vm.addRecord(vm.recordToAdd)">
        <span>Title</span><input type="text" placeholder="title" ng-model="vm.recordToAdd.title">
        <span>Artist</span><input type="text" placeholder="artist" ng-model="vm.recordToAdd.artist">
        </span><select ng-model="vm.recordToAdd.genre_id">
                <!-- not selected / blank option -->
                <option value="">Select Genre</option>
                <!-- repeat over genres -->
                <option ng-repeat="genre in vm.records.genres" value="{{genre.genre_id}}">{{genre.name}}</option>
        </select>
        <span>Release Year</span><input type="number" placeholder="ex. 1977" ng-model="vm.recordToAdd.release_year">
        <span>Length</span><input type="number" placeholder="minutes" ng-model="vm.recordToAdd.run_time"><br>
        <span>Album Art</span><input type="text" placeholder="url" ng-model="vm.recordToAdd.album_img">
        <input type="submit">
    </form>
</section>


<section id="collection">
    <h4>My Collection</h4>
    <div ng-repeat="record in vm.records.collection" class="recordDiv">
        <div ng-if="!edit">{{record.title}}</div>
        <div>
            <input type="text" ng-model="record.title" ng-if="edit">
        </div>
        <div ng-if="!edit">{{record.artist}}</div>
        <div>
            <input  type="text" ng-model="record.artist" ng-if="edit">
        </div>
        <div ng-if="!edit">{{record.genre_name}}</div>
        <select ng-model="record.genre_id" ng-if="edit">
                <!-- not selected / blank option -->
                <option value="{{record.genre_id}}">{{record.genre_name}}</option>
                <!-- repeat over genres -->
                <option ng-repeat="genre in vm.records.genres" value="{{genre.genre_id}}">{{genre.name}}</option>
        </select>
        <div ng-if="!edit">{{record.release_year}}</div>
        <div>
            <input  type="number" ng-model="record.release_year" ng-if="edit">
        </div>
        <div ng-if="!edit">{{record.run_time}} Min.</div>
        <div>
            <input  type="number" ng-model="record.run_time" ng-if="edit">
        </div>
        <div><img class="albumArt" ng-src="{{record.album_img}}"></div>
        <div>
            <input type="text" ng-model="record.album_img" ng-if="edit">
        </div>
        <div class="buttonsDiv">
            <button ng-show="!edit" ng-click="edit = true">Edit</button>
            <button ng-show="edit" ng-click="vm.editRecord(record); edit=false">Save</button>
            <button ng-click="vm.deleteRecord(record); edit=false">Delete</button>
        </div>
    </div>
</section>

