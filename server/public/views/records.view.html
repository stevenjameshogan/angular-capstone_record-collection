<section id="addRecord">
    <h4>Add Record</h4>
    <form ng-submit="vm.addRecord(vm.recordToAdd)">
            <input type="text" placeholder="title" ng-model="vm.recordToAdd.title">
            <input type="text" placeholder="artist" ng-model="vm.recordToAdd.artist">
            <select ng-model="vm.recordToAdd.genre_id">
                    <!-- not selected / blank option -->
                    <option value="">Genre</option>
                    <!-- repeat over genres -->
                    <option ng-repeat="genre in vm.records.genres" value="{{genre.genre_id}}">{{genre.name}}</option>
            </select>
            <input type="number" placeholder="released (ex. 1977)" ng-model="vm.recordToAdd.release_year">
            <input type="number" placeholder="length (minutes)" ng-model="vm.recordToAdd.run_time">
            <input type="text" placeholder="image url" ng-model="vm.recordToAdd.album_img">
        <md-button class="mainButtonText" type="submit">Submit</md-button>
    </form>
</section>

<section id="collection">
    <h4>My Records</h4>
    <input id="search" type="text" placeholder="Search" ng-model="vm.searchQ">
    <span ng-click="vm.getRecords()" class="mainButtonText"></span><br>
    <div ng-repeat ="record in vm.records.collection | filter:vm.searchQ"  layout="column" class="recordDiv" flex>
        <div flex><img class="albumArt" ng-src="{{record.album_img}}"></div>
        <div flex ng-if="!edit" style="font-size:23px"><strong>{{record.artist}}</strong></div>
        <div>
            <input  type="text" ng-model="record.artist" ng-if="edit">
        </div>
        <div ng-if="!edit" style="font-size:18px"><em>{{record.title}}</em></div>
        <div>
            <input type="text" ng-model="record.title" ng-if="edit">
        </div>
        <div ng-if="!edit" style="font-size:12px">{{record.genre_name}}</div>
        <select ng-model="record.genre_id" ng-if="edit">
  em              <!-- not selected / blank option -->
                <option value="{{record.genre_id}}">{{record.genre_name}}</option>
                <!-- repeat over genres -->
                <option ng-repeat="genre in vm.records.genres" value="{{genre.genre_id}}">{{genre.name}}</option>
        </select>
        <div ng-if="!edit" style="font-size:12px">{{record.release_year}}</div>
        <div>
            <input  type="number" ng-model="record.release_year" ng-if="edit">
        </div>
        <div ng-if="!edit" style="font-size:12px">{{record.run_time}} Minutes</div>
        <div>
            <input  type="number" ng-model="record.run_time" ng-if="edit">
        </div>
        <div class="buttonsDiv"> 
            <md-button class="material-icons" ng-show="!edit" ng-click="edit = true">&#xE85D;</md-button>
            <md-button class="material-icons" ng-show="edit" ng-click="vm.editRecord(record); edit=false">&#xE876;</md-button>
            <md-button class="material-icons" ng-click="vm.deleteRecord(record); edit=false">&#xE872;</md-button>
        </div>
    </div>
</section>

